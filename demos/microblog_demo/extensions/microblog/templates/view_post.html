{% extends "base.html" %}

{% block title %}{{ post.title }} | Microblog{% endblock %}

{% block content %}
<a href="/" class="back-link">
    <span>â†</span>
    Back to Home
</a>

<div class="header fade-in">
    <h1>ğŸ“– Microblog</h1>
</div>

<div class="main-content fade-in">
    <div class="posts">
        <article class="post">
            <h1>{{ post.title }}</h1>
            <div class="post-content markdown-content">{{ post.content }}</div>
            <div class="post-meta">
                <div class="date">
                    <span>ğŸ“…</span>
                    <span>Posted on {{ post.formatted_date }}</span>
                </div>
            </div>
        </article>
    </div>
    
    <div class="nav">
        <a href="/" class="btn">
            <span>ğŸ </span>
            Back to Home
        </a>
        <a href="/post" class="btn btn-secondary">
            <span>âœï¸</span>
            Create New Post
        </a>
    </div>
</div>
{% endblock %}

{% block extra_js %}
// For individual post view, render the full content as markdown
document.addEventListener('DOMContentLoaded', function() {
    const content = document.querySelector('.post-content.markdown-content');
    if (content) {
        const markdownText = content.textContent;
        content.innerHTML = marked.parse(markdownText);
    }
});
{% endblock %}